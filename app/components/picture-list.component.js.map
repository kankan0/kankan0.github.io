{"version":3,"file":"picture-list.component.js","sourceRoot":"","sources":["file:///C:/Users/lvxu/workspace/angular2/kankan/tmp/broccoli_type_script_compiler-input_base_path-f4YojrGj.tmp/0/src/app/components/picture-list.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAA6C,eAAe,CAAC,CAAA;AAE7D,uBAA+B,iBAAiB,CAAC,CAAA;AAGjD,yBAA4B,aAAa,CAAC,CAAA;AAQ1C;IAQE,8BAAoB,cAA8B,EAC9B,WAAwB;QADxB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,gBAAW,GAAX,WAAW,CAAa;QAP5C,WAAM,GAAU,EAAE,CAAC;QAEX,UAAK,GAAW,EAAE,CAAC;QACnB,SAAI,GAAW,CAAC,CAAC;QACjB,iBAAY,GAAiB,IAAI,CAAC;QAIxC,OAAO,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;IAClD,CAAC;IAED,uCAAQ,GAAR;QAAA,iBAUC;QATC,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;QAC7C,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,CAAC,CAAC;YAChC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,CACtD,UAAC,KAAU;gBACT,KAAI,CAAC,MAAM,GAAG,EAAE,CAAC;gBACjB,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YAC9B,CAAC,CACF,CAAC;QACJ,CAAC;IACH,CAAC;IAGO,+CAAgB,GAAxB,UAAyB,QAAgB;QAAzC,iBAUC;QATC,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CACzE,UAAA,IAAI;YACF,oCAAoC;YACpC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC5B,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;gBAClC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,KAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YAClD,CAAC;QACH,CAAC,CACF,CAAC;IACJ,CAAC;IAED,0CAAW,GAAX;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;QAClC,CAAC;IAEH,CAAC;IAjDH;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,iBAAiB;YAC3B,WAAW,EAAE,6BAA6B;YAC1C,SAAS,EAAE,CAAC,4BAA4B,CAAC;SAC1C,CAAC;;4BAAA;IA8CF,2BAAC;AAAD,CAAC,AA7CD,IA6CC;AA7CY,4BAAoB,uBA6ChC,CAAA","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\n\nimport { ActivatedRoute } from \"@angular/router\";\nimport { Subscription } from \"rxjs/Rx\";\n\nimport { DataService } from '../services';\n\n@Component({\n  moduleId: module.id,\n  selector: 'kk-picture-list',\n  templateUrl: 'picture-list.component.html',\n  styleUrls: ['picture-list.component.css']\n})\nexport class PictureListComponent implements OnInit, OnDestroy {\n\n  topics: any[] = [];\n\n  private count: number = 20;\n  private page: number = 0;\n  private subscription: Subscription = null;\n\n  constructor(private activatedRoute: ActivatedRoute,\n              private dataService: DataService) {\n    console.log('PictureListComponent constructor');\n  }\n\n  ngOnInit() {\n    console.log('PictureListComponent ngOnInit');\n    if (this.activatedRoute != null) {\n      this.subscription = this.activatedRoute.params.subscribe(\n        (param: any) => {\n          this.topics = [];\n          this.loadCategoryData('福利');\n        }\n      );\n    }\n  }\n\n\n  private loadCategoryData(category: string) {\n    this.dataService.fetchByCategory(category, this.count, this.page).subscribe(\n      data => {\n        //console.log(JSON.stringify(data));\n        if (data.results.length > 0) {\n          var result = data.results.slice();\n          Array.prototype.push.apply(this.topics, result);\n        }\n      }\n    );\n  }\n\n  ngOnDestroy() {\n    if (this.subscription != null) {\n      this.subscription.unsubscribe();\n    }\n\n  }\n\n}\n"]}